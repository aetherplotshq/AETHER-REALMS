<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MILLIONAIRE CONTROLLER | K ARCHIVE</title>
    <style>
        body { background: #fcfcfc; font-family: 'Arial', sans-serif; margin: 0; }
        header { height:70px; display:flex; align-items:center; justify-content:space-between; padding:0 40px; border-bottom:1px solid #eee; background: #fff; }
        .update-wrapper { max-width: 500px; margin: 60px auto; padding: 40px; background: #fff; border: 1px solid #eee; border-radius: 8px; }
        .update-wrapper h2 { text-align: center; letter-spacing: 3px; color: #9E7E45; text-transform: uppercase; font-size: 20px; margin-bottom: 30px; }
        .input-group { margin-bottom: 20px; }
        label { display: block; font-size: 11px; letter-spacing: 1px; color: #333; margin-bottom: 8px; text-transform: uppercase; font-weight: bold; }
        input { width: 100%; padding: 14px; border: 1px solid #ddd; background: #fafafa; outline: none; box-sizing: border-box; border-radius: 4px; }
        input:focus { border-color: #9E7E45; background: #fff; }
        .publish-btn { width: 100%; padding: 18px; background: #000; color: #fff; border: none; cursor: pointer; letter-spacing: 3px; font-weight: bold; text-transform: uppercase; transition: 0.3s; margin-top: 10px; }
        .publish-btn:hover { background: #9E7E45; }
    </style>
</head>
<body>
    <header>
        <button onclick="history.back()" style="background:none; border:none; font-weight:bold; cursor:pointer; font-size:11px;">‚Üê BACK</button>
        <div style="font-size:18px; font-weight:900;">K.</div>
        <div style="font-size:10px; letter-spacing:2px; color:#9E7E45; font-weight: bold;">MILLIONAIRE CLUB</div>
    </header>

    <div class="update-wrapper">
        <h2>Update Elite Plot</h2>
        <div class="input-group">
            <label>Plot Identifier (1-100)</label>
            <input type="number" id="plot-no" placeholder="e.g. 5">
        </div>
        <div class="input-group">
            <label>Brand Logo URL (Direct PNG/JPG)</label>
            <input type="text" id="logo-url" placeholder="https://example.com/logo.png">
        </div>
        <div class="input-group">
            <label>Destination/Website Link</label>
            <input type="text" id="target-link" placeholder="https://brand-website.com">
        </div>
        <button class="publish-btn" onclick="pushUpdate()">Update Plot Now</button>
    </div>

    <script type="module">
        import { db, ref, set } from "./firebase-config.js";
        
        window.pushUpdate = () => {
            const plotId = document.getElementById('plot-no').value;
            const logo = document.getElementById('logo-url').value;
            const link = document.getElementById('target-link').value;
            
            if(!plotId || !logo || !link) return alert("Please fill all fields!");
            
            // This updates the specific plot on the main Millionaire grid
            set(ref(db, `estate_data/Millionaire/plot_${plotId}`), {
                logo: logo,
                link: link,
                updatedAt: new Date().toISOString()
            }).then(() => { 
                alert("Plot #" + plotId + " successfully updated on the Millionaire Map!"); 
                location.reload(); 
            }).catch((err) => {
                alert("Error: " + err.message);
            });
        };
    </script>
</body>
</html>
