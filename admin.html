<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AETHER ADMIN</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="background:#000; color:#fff; display:flex; align-items:center; justify-content:center; height:100vh;">
    
    <div id="login">
        <h2 class="gold-text">SYSTEM ACCESS</h2>
        <input type="password" id="pass" placeholder="Password" style="padding:15px; background:#111; border:1px solid var(--gold); color:#fff; text-align:center;">
        <button onclick="login()" style="padding:15px; background:var(--gold); border:none; cursor:pointer; margin-top:10px; width:100%; font-weight:bold;">LOGIN</button>
    </div>

    <div id="panel" style="display:none; width:80%;">
        <h2 class="gold-text">ADMIN COMMAND</h2>
        <div style="background:#111; padding:30px; border:1px solid var(--gold);">
            <select id="r" style="padding:10px; width:100%; margin-bottom:10px;">
                <option value="Fortnite">Fortnite</option><option value="CS2">CS2</option>
            </select>
            <input type="number" id="id" placeholder="Plot ID" style="padding:10px; width:95%; margin-bottom:10px;">
            <input type="text" id="owner" placeholder="Owner Name" style="padding:10px; width:95%; margin-bottom:10px;">
            <button id="updateBtn" style="padding:20px; background:green; color:white; width:100%; border:none; cursor:pointer; font-weight:bold;">UPDATE PLOT LIVE</button>
        </div>
    </div>

    <script type="module">
        import { db, ref, set } from "./firebase-config.js";
        
        window.login = () => {
            if(document.getElementById('pass').value === "KAWSARahmed22@@") {
                document.getElementById('login').style.display = 'none';
                document.getElementById('panel').style.display = 'block';
            } else { alert("WRONG PASSWORD"); }
        };

        document.getElementById('updateBtn').onclick = () => {
            const realm = document.getElementById('r').value;
            const id = document.getElementById('id').value;
            const owner = document.getElementById('owner').value;
            set(ref(db, `realms/${realm}/plot_${id}`), { owner: owner, timestamp: Date.now() })
            .then(() => alert("UPDATED!"));
        };
    </script>
</body>
</html>
