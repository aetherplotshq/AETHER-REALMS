<!DOCTYPE html><html><head><link rel="stylesheet" href="style.css"><title>APPLICATIONS | K</title></head>
<body>
    <div style="padding:100px 50px;">
        <h1 style="font-weight:300; letter-spacing:5px;">PENDING VERIFICATIONS</h1>
        <div id="order-list"></div>
    </div>
    <script type="module">
        import { db, ref, onValue, remove } from "./firebase-config.js";
        if(prompt("Security Key:") !== "KAWSARahmed22@@") location.href='index.html';
        
        onValue(ref(db, 'pending_orders'), s => {
            const list = document.getElementById('order-list'); list.innerHTML = "";
            s.forEach(gs => gs.forEach(o => {
                const d = o.val();
                list.innerHTML += `<div style="border:1px solid #222; padding:30px; margin-bottom:20px;">
                    <p>REALM: ${d.realm} | PLOT: #${d.plotID}</p>
                    <p>EMAIL: ${d.email}</p>
                    <p>LINK: <a href="${d.socialLink}" target="_blank" style="color:var(--gold)">VIEW CHANNEL</a></p>
                    <button class="gold-btn" onclick="alert('Proceed to Manual Update to Go Live')">APPROVE</button>
                    <button style="background:none; border:1px solid red; color:red; padding:10px;" onclick="window.del('${d.realm}','${d.plotID}')">REJECT</button>
                </div>`;
            }));
        });
        window.del = (g, p) => remove(ref(db, `pending_orders/${g}/${p}`));
    </script>
</body></html>
