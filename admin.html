<!DOCTYPE html><html><head><link rel="stylesheet" href="style.css"><title>ADMIN</title></head><body>
    <h1 id="h" style="display:none;">PENDING ORDERS</h1>
    <div id="ol"></div>
    <script type="module">
        import { db, ref, onValue, set, remove } from "./firebase-config.js";
        if(prompt("Pass:") !== "KAWSARahmed22@@") location.href='index.html';
        else document.getElementById('h').style.display='block';
        onValue(ref(db, 'orders'), s => {
            const l = document.getElementById('ol'); l.innerHTML = "";
            s.forEach(gs => gs.forEach(o => {
                const d = o.val();
                l.innerHTML += `<div style="border:1px solid gold; margin:10px; padding:10px;">
                    <p>${d.g} Plot #${d.id} - ${d.name}</p>
                    <input type="text" id="i${d.id}" placeholder="Image Link"><input type="text" id="w${d.id}" placeholder="Web Link">
                    <button onclick="window.ap('${d.g}','${d.id}','${d.name}')">APPROVE</button>
                </div>`;
            }));
        });
        window.ap = (g,id,n) => {
            const img = document.getElementById('i'+id).value; const url = document.getElementById('w'+id).value;
            set(ref(db, `live/${g}/${id}`), {id, name:n, img, url}).then(()=>remove(ref(db, `orders/${g}/${id}`)));
        }
    </script>
</body></html>
