<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K ARCHIVE | OFFICIAL PORTAL</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <style>
        :root { --gold: #d4af37; --silver: #C0C0C0; --black: #000; }
        
        body { background: #000; color: #fff; font-family: 'Times New Roman', serif; margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; box-sizing: border-box; }

        /* UI Panel */
        .portal-panel { width: 100%; max-width: 400px; padding: 30px; border: 0.5px solid #333; background: #000; text-align: center; }
        .portal-panel h2 { font-weight: 300; letter-spacing: 8px; color: var(--gold); margin-bottom: 30px; text-transform: uppercase; font-size: 18px; }

        .input-box { text-align: left; margin-bottom: 15px; }
        .input-box label { font-size: 9px; letter-spacing: 2px; color: #888; text-transform: uppercase; display: block; margin-bottom: 5px; }
        
        input, select { width: 100%; padding: 12px; background: #000; border: 0.5px solid #444; color: #fff; font-size: 13px; box-sizing: border-box; outline: none; }
        
        .btn-action { width: 100%; padding: 15px; background: none; border: 0.5px solid var(--gold); color: var(--gold); cursor: pointer; letter-spacing: 3px; transition: 0.3s; margin-top: 15px; text-transform: uppercase; font-weight: bold; }
        .btn-action:hover { background: var(--gold); color: #000; }

        /* Deed Modal */
        #deedModal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; overflow-y: auto; padding: 20px 0; }
        
        #printable-area { width: 750px; margin: auto; background: #fff; }
        
        .deed-card { 
            background: #fff; color: #000; padding: 60px; border: 1px solid #000; 
            position: relative; min-height: 950px; box-sizing: border-box;
        }

        .deed-logo { position: absolute; top: 50px; right: 50px; width: 85px; height: 85px; object-fit: contain; border: 0.5px solid #eee; }

        .deed-header h1 { font-size: 26px; font-weight: 400; letter-spacing: 5px; margin: 0; text-transform: uppercase; border-bottom: 1px solid #000; display: inline-block; padding-bottom: 5px; }
        .deed-header p { font-size: 9px; letter-spacing: 3px; color: #666; margin-top: 10px; }

        .deed-body { margin-top: 100px; font-size: 16px; line-height: 2.2; text-align: justify; }
        .owner-name { font-size: 36px; font-weight: 400; display: block; margin: 25px 0; border-bottom: 1px solid #000; font-style: italic; }

        .price-tag { font-weight: bold; font-size: 18px; color: #000; }

        .footer-sigs { display: flex; justify-content: space-between; margin-top: 120px; }
        .sig-item { width: 40%; border-top: 0.5px solid #000; padding-top: 10px; font-size: 10px; letter-spacing: 2px; }
        .sig-text { font-family: cursive; font-size: 20px; display: block; margin-bottom: 5px; }

        .deed-tools { text-align: center; margin-top: 30px; padding-bottom: 50px; }
        .btn-tool { padding: 12px 25px; background: none; border: 0.5px solid var(--gold); color: var(--gold); cursor: pointer; margin: 5px; font-size: 11px; letter-spacing: 2px; }

        /* Responsive UI */
        @media (max-width: 600px) {
            .portal-panel { padding: 20px; border: none; }
            #printable-area { width: 95%; }
            .deed-card { padding: 30px; min-height: auto; }
            .owner-name { font-size: 24px; }
            .deed-logo { width: 60px; height: 60px; top: 20px; right: 20px; }
        }
    </style>
</head>
<body>

    <div class="portal-panel">
        <h2>K ARCHIVE PORTAL</h2>
        
        <div class="input-box">
            <label>Legal Name</label>
            <input type="text" id="name" placeholder="ENTER NAME">
        </div>

        <div class="input-box">
            <label>Section</label>
            <select id="section">
                <option value="Millionaires Club">Millionaires Club</option>
                <option value="Social Creators">Social Creators</option>
                <option value="Gaming Realm">Gaming Realm</option>
                <option value="Nations Grid">Nations Grid</option>
                <option value="Little Stars">Little Stars</option>
                <option value="Eternal Roots">Eternal Roots</option>
                <option value="The Union Wall">The Union Wall</option>
                <option value="Pet Paradise">Pet Paradise</option>
            </select>
        </div>

        <div class="input-box">
            <label>Plot Number (1-100)</label>
            <input type="text" id="plot" placeholder="00" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
        </div>

        <button class="btn-action" onclick="generate()">GENERATE DEED</button>
        <button class="btn-action" style="border-color: #444; color: #888;" onclick="window.location.href='index.html'">BACK TO HOME</button>
    </div>

    <div id="deedModal">
        <div id="printable-area">
            <div class="deed-card">
                <img src="logos/default.png" id="logo-sync" class="deed-logo">
                
                <div class="deed-header">
                    <h1>Deed of Sovereignty</h1>
                    <p>OFFICIAL DIGITAL ASSET CERTIFICATE</p>
                </div>

                <div class="deed-body">
                    This certifies that the digital asset identified as <b>Plot #<span id="d-plot"></span></b> 
                    in the <b><span id="d-section"></span></b> has been officially registered to:

                    <span class="owner-name" id="d-name">NAME HERE</span>

                    The acquisition value for this sovereign grid is calculated at 
                    <span class="price-tag">$<span id="d-price">0</span>.00 USD</span>. 
                    This title remains immutable and recognized under the authority of K Archive.
                </div>

                <div class="footer-sigs">
                    <div class="sig-item">
                        <span class="sig-text">ARCHIVEKawsar</span>
                        AUTHORITY SIGNATURE
                    </div>
                    <div class="sig-item">
                        <span class="sig-text" id="d-sig">Name</span>
                        HOLDER SIGNATURE
                    </div>
                </div>

                <div style="margin-top: 70px; font-size: 8px; color: #999; letter-spacing: 2px;">
                    VALIDATED BY K ARCHIVE SYSTEM | ID: <span id="d-id"></span>
                </div>
            </div>
        </div>

        <div class="deed-tools">
            <button class="btn-tool" onclick="downloadPDF()"><i class="fas fa-download"></i> DOWNLOAD PDF</button>
            <button class="btn-tool" onclick="window.print()"><i class="fas fa-print"></i> PRINT</button>
            <button class="btn-tool" onclick="closeModal()" style="border-color:#555; color:#555;">CLOSE</button>
        </div>
    </div>

    <script>
        const logos = {
            "Millionaires Club": "logos/millionaire.png",
            "Social Creators": "logos/creator.png",
            "Gaming Realm": "logos/gaming.png",
            "Nations Grid": "logos/nations.png",
            "Little Stars": "logos/children.png",
            "Eternal Roots": "logos/parents.png",
            "The Union Wall": "logos/couples.png",
            "Pet Paradise": "logos/pets.png"
        };

        function calculatePrice(plotNum) {
            let basePrice = 39; // ডিফল্ট
            let p = parseInt(plotNum);

            // আপনার দেওয়া শর্ত অনুযায়ী প্রাইসিং লজিক
            if (p <= 4) basePrice = 99; // ফার্স্ট ফোর কর্নার
            else if (p <= 10) basePrice = 89; // সেকেন্ড রো (ধরে নিলাম ১০ পর্যন্ত)
            else if (p <= 20) basePrice = 59; // থার্ড রো

            return basePrice + 9; // প্রতি আপডেটে ৯ ডলার যোগ
        }

        function generate() {
            const name = document.getElementById('name').value;
            const plot = document.getElementById('plot').value;
            const section = document.getElementById('section').value;

            if(!name || !plot) return alert("Please fill all fields.");

            document.getElementById('d-name').innerText = name.toUpperCase();
            document.getElementById('d-sig').innerText = name;
            document.getElementById('d-plot').innerText = plot;
            document.getElementById('d-section').innerText = section;
            document.getElementById('d-price').innerText = calculatePrice(plot);
            document.getElementById('d-id').innerText = 'K' + Date.now().toString().slice(-6);

            if(logos[section]) document.getElementById('logo-sync').src = logos[section];

            document.getElementById('deedModal').style.display = 'block';
        }

        function downloadPDF() {
            const element = document.getElementById('printable-area');
            const opt = {
                margin: 0,
                filename: 'K_Archive_Deed.pdf',
                image: { type: 'jpeg', quality: 1 },
                html2canvas: { scale: 3 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            html2pdf().set(opt).from(element).save();
        }

        function closeModal() { document.getElementById('deedModal').style.display = 'none'; }
    </script>
</body>
</html>
