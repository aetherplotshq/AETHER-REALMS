<!DOCTYPE html><html><head><link rel="stylesheet" href="style.css"><title>MAP</title></head><body>
    <div class="top-nav"><button onclick="location.href='index.html'">HOME</button><h2 id="gt"></h2><button onclick="location.href='support.html'">SUPPORT</button></div>
    <div class="map" id="map"></div>
    <script type="module">
        import { db, ref, onValue } from "./firebase-config.js";
        const g = new URLSearchParams(window.location.search).get('g') || 'FreeFire';
        document.getElementById('gt').innerText = g + " (100 Plots)";
        const map = document.getElementById('map');
        for(let i=1; i<=100; i++) {
            const p = document.createElement('div'); p.className='plot'; p.id='p'+i; p.innerText='#'+i;
            p.onclick = () => location.href=`order.html?g=${g}&id=${i}`;
            map.appendChild(p);
        }
        onValue(ref(db, 'live/'+g), (s) => {
            s.forEach(c => {
                const d = c.val(); const el = document.getElementById('p'+d.id);
                if(el) el.innerHTML = `<a href="${d.url}" target="_blank"><img src="${d.img}"></a>`;
            });
        });
    </script>
</body></html>
